{%- comment -%}
  Render an accordion item with a title and content.

  Accepts:
    - id: (string) Unique identifier for the accordion item.
    - title: (string) Title of the accordion item (displayed in the button).
    - content: (string) Content of the accordion item.
    - group_name: (string) If you want to group multiple accordion items together, provide a group name. This will allow only one item in the group to be open at a time.
    - rte: (boolean) Whether the content is rich text.
    - open: (boolean) Whether the accordion item should be open by default.
    - attributes: (object) Additional attributes for the accordion item.
{%- endcomment -%}

{%- assign rte = rte | default: true, allow_false: true -%}
{%- assign open = open | default: false, allow_false: true -%}
{%- render '@needs-script', entries: 'core-accordion' -%}
<custom-accordion
  class='group block w-full pb-sm border-b border-solid border-border-01'
  {% if group_name != blank %}
    data-accordion-group='{{ group_name }}'
  {% endif %}
  {% if attributes != blank %}
    {{ attributes }}
  {% endif %}
>
  <button
    type='button'
    aria-expanded='{% if open %}true{% else %}false{% endif %}'
    aria-controls='Details-{{ id }}'
    data-accordion-toggle
    class='flex items-center justify-between w-full peer-focus-visible:ring-1 ring-u-focus p'
  >
    {{ title }}

    {%- render 'icon' with 'icon-plus', class: 'group-has-[[data-open]]:hidden' -%}
    {%- render 'icon' with 'icon-minus', class: 'group-has-[[data-open]]:block hidden' -%}
  </button>
  <div
    id='Details-{{ id }}'
    class='{% if rte %}rte{% endif %} group-has-[[data-open]]:grid-rows-[1fr] group-has-[[data-open]]:visible grid-rows-[0fr] transition-[visibility,grid-template-rows] duration-300 grid invisible text-foreground-secondary'
    data-accordion-content
    {% if open %}
      data-open
    {% endif %}
  >
    <div class='overflow-hidden'>
      <div class='pt-xs [&>*:last-child]:mb-0'>
        {{ content }}
      </div>
    </div>
  </div>
</custom-accordion>
