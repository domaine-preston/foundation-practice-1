@reference './index.css'

.dialog::backdrop {
  @apply bg-u-overlay hidden transform-gpu opacity-0 transition-[display,opacity,overlay] [transition-behavior:allow-discrete] delay-100 duration-300 motion-reduce:transition-none;
}

.dialog[open]::backdrop {
  @apply block opacity-100 delay-0;
}

@starting-style {
  .dialog[open]::backdrop {
    @apply opacity-0;
  }
}

.dialog {
  @apply fixed inset-0 m-0 block h-dvh w-dvw overflow-hidden overscroll-contain bg-[unset] opacity-100 transition-[visibility,opacity,display,overlay] [transition-behavior:allow-discrete] motion-reduce:transition-none;
  @apply [&:modal]:max-h-[100dvh] [&:modal]:max-w-[100vw];
}

.dialog[type='modal'] {
  @apply md:flex md:items-center md:justify-center;
}

.dialog:not([open]) {
  @apply pointer-events-none invisible opacity-0 delay-500 duration-700 backdrop:opacity-0;
}

@starting-style {
  .dialog[open] {
    @apply opacity-0;
  }
}

.modal {
  @apply bg-background h-full w-full translate-y-full overflow-y-auto overscroll-contain opacity-0 transition-[opacity,transform,overlay] delay-0 duration-300 ease-in-out motion-reduce:transition-none md:h-auto md:w-10/12 md:translate-y-16 lg:max-h-dvh lg:max-w-2xl;
}

.modal[size='modal-max'] {
  @apply !h-full !max-h-full !w-full !max-w-full !translate-none;
}

.dialog[open] .modal {
  @apply translate-none opacity-100 delay-100;
}

.drawer {
  @apply bg-background scrollbar-thin scrollbar-track-[transparent] scrollbar-thumb-background-secondary fixed right-0 h-full w-full translate-x-full overflow-y-auto overscroll-contain transition-transform delay-0 duration-300 ease-in-out motion-reduce:transition-none sm:max-w-[400px];
}

.drawer[anchor='left'] {
  @apply right-auto left-0 -translate-x-full;
}

/* mini cart */
.cart-drawer-dialog .drawer[anchor='right'] {
  @apply right-sm top-sm fixed left-auto h-auto max-h-[80vh] max-w-[calc(100vw-30px)] rounded-[4px] md:top-[calc(var(--header-height)-15px)] md:left-auto md:max-w-[420px] lg:max-w-[400px];
}

.dialog:not([open]) .drawer[anchor='right'] {
  @apply translate-x-full delay-0;
}

.dialog:not([open]) .drawer[anchor='left'] {
  @apply -translate-x-full delay-0;
}

.dialog[open] .drawer {
  @apply translate-none delay-100;
}
